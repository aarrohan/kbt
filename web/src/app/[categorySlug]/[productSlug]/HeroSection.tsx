"use client";
import { useState } from "react";
import MediaPart from "./MediaPart";
import FAQPart from "./FAQPart";
import { fromCents } from "@/lib/utils";

interface IProps {
  product: IProduct;
}

export default function HeroSection({ product }: IProps) {
  const [activeColor, setActiveColor] = useState<number>(0);
  const [activeSize, setActiveSize] = useState<number>(0);

  const colors: string[] = product.colors;
  const sizes: string[] = product.sizes;

  return (
    <section className="grid lg:grid-cols-2 gap-14 lg:gap-20">
      <MediaPart
        imgUrl={product.imgUrl}
        secondaryImgUrl={product.secondaryImgUrl}
        otherImgUrls={product.otherImgUrls}
        videoUrls={product.videoUrls}
      />

      <div className="lg:pt-28 pl-8 lg:pl-0 pr-8">
        <span className="py-1 px-2 bg-dark text-xs font-medium uppercase tracking-[1.5px] text-white">
          New
        </span>

        <h1 className="mt-6 mb-3 font-serif text-4xl lg:text-5xl font-normal text-dark">
          {product.title}
        </h1>

        <h3 className="mb-3 font-serif text-2xl font-normal text-dark">
          {product.discountedPrice
            ? fromCents(product.discountedPrice)
            : fromCents(product.price)}{" "}
          {process.env.NEXT_PUBLIC_CURRENCY_SYMBOL}
        </h3>

        <div className="mb-8 flex items-center gap-3">
          <svg
            width="57"
            height="10"
            viewBox="0 0 57 10"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.69557 1.36663C3.79338 1.15879 3.84229 1.05487 3.90868 1.02167C3.96645 0.992778 4.03356 0.992778 4.09132 1.02167C4.15771 1.05487 4.20662 1.15879 4.30443 1.36663L5.23238 3.33849C5.26126 3.39985 5.27569 3.43053 5.29679 3.45435C5.31548 3.47544 5.33788 3.49253 5.36277 3.50467C5.39088 3.51838 5.42316 3.52333 5.48771 3.53323L7.5634 3.85145C7.78198 3.88497 7.89127 3.90172 7.94185 3.95772C7.98585 4.00644 8.00655 4.07339 7.99817 4.13992C7.98854 4.21639 7.90942 4.29723 7.75118 4.4589L6.24975 5.99279C6.20295 6.0406 6.17955 6.06451 6.16445 6.09296C6.15108 6.11815 6.1425 6.14582 6.13919 6.17444C6.13546 6.20676 6.14098 6.24053 6.15202 6.30807L6.50629 8.47463C6.54365 8.70314 6.56234 8.8174 6.52723 8.8852C6.49668 8.94419 6.44238 8.98557 6.37945 8.9978C6.30712 9.01187 6.2093 8.95791 6.01366 8.85L4.15802 7.82641C4.1002 7.79452 4.07129 7.77857 4.04083 7.77231C4.01387 7.76676 3.98613 7.76676 3.95917 7.77231C3.92871 7.77857 3.8998 7.79452 3.84198 7.82641L1.98634 8.85C1.7907 8.95791 1.69288 9.01187 1.62055 8.9978C1.55762 8.98557 1.50332 8.94419 1.47277 8.8852C1.43766 8.8174 1.45635 8.70314 1.49371 8.47463L1.84798 6.30807C1.85902 6.24053 1.86455 6.20676 1.86081 6.17444C1.8575 6.14582 1.84892 6.11815 1.83555 6.09296C1.82045 6.06451 1.79705 6.0406 1.75025 5.99279L0.248824 4.4589C0.0905787 4.29723 0.0114562 4.21639 0.00182798 4.13992C-0.0065491 4.07339 0.0141462 4.00644 0.0581519 3.95772C0.10873 3.90172 0.21802 3.88497 0.4366 3.85145L2.51229 3.53323C2.57685 3.52333 2.60912 3.51838 2.63723 3.50467C2.66212 3.49253 2.68452 3.47544 2.70321 3.45435C2.72431 3.43053 2.73874 3.39985 2.76762 3.33849L3.69557 1.36663Z"
              stroke="black"
              strokeWidth="0.85"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M15.6956 1.36663C15.7934 1.15879 15.8423 1.05487 15.9087 1.02167C15.9664 0.992778 16.0336 0.992778 16.0913 1.02167C16.1577 1.05487 16.2066 1.15879 16.3044 1.36663L17.2324 3.33849C17.2613 3.39985 17.2757 3.43053 17.2968 3.45435C17.3155 3.47544 17.3379 3.49253 17.3628 3.50467C17.3909 3.51838 17.4232 3.52333 17.4877 3.53323L19.5634 3.85145C19.782 3.88497 19.8913 3.90172 19.9418 3.95772C19.9859 4.00644 20.0065 4.07339 19.9982 4.13992C19.9885 4.21639 19.9094 4.29723 19.7512 4.4589L18.2498 5.99279C18.203 6.0406 18.1795 6.06451 18.1644 6.09296C18.1511 6.11815 18.1425 6.14582 18.1392 6.17444C18.1355 6.20676 18.141 6.24053 18.152 6.30807L18.5063 8.47463C18.5437 8.70314 18.5623 8.8174 18.5272 8.8852C18.4967 8.94419 18.4424 8.98557 18.3794 8.9978C18.3071 9.01187 18.2093 8.95791 18.0137 8.85L16.158 7.82641C16.1002 7.79452 16.0713 7.77857 16.0408 7.77231C16.0139 7.76676 15.9861 7.76676 15.9592 7.77231C15.9287 7.77857 15.8998 7.79452 15.842 7.82641L13.9863 8.85C13.7907 8.95791 13.6929 9.01187 13.6206 8.9978C13.5576 8.98557 13.5033 8.94419 13.4728 8.8852C13.4377 8.8174 13.4563 8.70314 13.4937 8.47463L13.848 6.30807C13.859 6.24053 13.8645 6.20676 13.8608 6.17444C13.8575 6.14582 13.8489 6.11815 13.8356 6.09296C13.8205 6.06451 13.7971 6.0406 13.7502 5.99279L12.2488 4.4589C12.0906 4.29723 12.0115 4.21639 12.0018 4.13992C11.9935 4.07339 12.0141 4.00644 12.0582 3.95772C12.1087 3.90172 12.218 3.88497 12.4366 3.85145L14.5123 3.53323C14.5768 3.52333 14.6091 3.51838 14.6372 3.50467C14.6621 3.49253 14.6845 3.47544 14.7032 3.45435C14.7243 3.43053 14.7387 3.39985 14.7676 3.33849L15.6956 1.36663Z"
              stroke="black"
              strokeWidth="0.85"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M27.6956 1.36663C27.7934 1.15879 27.8423 1.05487 27.9087 1.02167C27.9664 0.992778 28.0336 0.992778 28.0913 1.02167C28.1577 1.05487 28.2066 1.15879 28.3044 1.36663L29.2324 3.33849C29.2613 3.39985 29.2757 3.43053 29.2968 3.45435C29.3155 3.47544 29.3379 3.49253 29.3628 3.50467C29.3909 3.51838 29.4232 3.52333 29.4877 3.53323L31.5634 3.85145C31.782 3.88497 31.8913 3.90172 31.9418 3.95772C31.9859 4.00644 32.0065 4.07339 31.9982 4.13992C31.9885 4.21639 31.9094 4.29723 31.7512 4.4589L30.2498 5.99279C30.203 6.0406 30.1795 6.06451 30.1644 6.09296C30.1511 6.11815 30.1425 6.14582 30.1392 6.17444C30.1355 6.20676 30.141 6.24053 30.152 6.30807L30.5063 8.47463C30.5437 8.70314 30.5623 8.8174 30.5272 8.8852C30.4967 8.94419 30.4424 8.98557 30.3794 8.9978C30.3071 9.01187 30.2093 8.95791 30.0137 8.85L28.158 7.82641C28.1002 7.79452 28.0713 7.77857 28.0408 7.77231C28.0139 7.76676 27.9861 7.76676 27.9592 7.77231C27.9287 7.77857 27.8998 7.79452 27.842 7.82641L25.9863 8.85C25.7907 8.95791 25.6929 9.01187 25.6206 8.9978C25.5576 8.98557 25.5033 8.94419 25.4728 8.8852C25.4377 8.8174 25.4563 8.70314 25.4937 8.47463L25.848 6.30807C25.859 6.24053 25.8645 6.20676 25.8608 6.17444C25.8575 6.14582 25.8489 6.11815 25.8356 6.09296C25.8205 6.06451 25.7971 6.0406 25.7502 5.99279L24.2488 4.4589C24.0906 4.29723 24.0115 4.21639 24.0018 4.13992C23.9935 4.07339 24.0141 4.00644 24.0582 3.95772C24.1087 3.90172 24.218 3.88497 24.4366 3.85145L26.5123 3.53323C26.5768 3.52333 26.6091 3.51838 26.6372 3.50467C26.6621 3.49253 26.6845 3.47544 26.7032 3.45435C26.7243 3.43053 26.7387 3.39985 26.7676 3.33849L27.6956 1.36663Z"
              stroke="black"
              strokeWidth="0.85"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M39.6956 1.36663C39.7934 1.15879 39.8423 1.05487 39.9087 1.02167C39.9664 0.992778 40.0336 0.992778 40.0913 1.02167C40.1577 1.05487 40.2066 1.15879 40.3044 1.36663L41.2324 3.33849C41.2613 3.39985 41.2757 3.43053 41.2968 3.45435C41.3155 3.47544 41.3379 3.49253 41.3628 3.50467C41.3909 3.51838 41.4232 3.52333 41.4877 3.53323L43.5634 3.85145C43.782 3.88497 43.8913 3.90172 43.9418 3.95772C43.9859 4.00644 44.0065 4.07339 43.9982 4.13992C43.9885 4.21639 43.9094 4.29723 43.7512 4.4589L42.2498 5.99279C42.203 6.0406 42.1795 6.06451 42.1644 6.09296C42.1511 6.11815 42.1425 6.14582 42.1392 6.17444C42.1355 6.20676 42.141 6.24053 42.152 6.30807L42.5063 8.47463C42.5437 8.70314 42.5623 8.8174 42.5272 8.8852C42.4967 8.94419 42.4424 8.98557 42.3794 8.9978C42.3071 9.01187 42.2093 8.95791 42.0137 8.85L40.158 7.82641C40.1002 7.79452 40.0713 7.77857 40.0408 7.77231C40.0139 7.76676 39.9861 7.76676 39.9592 7.77231C39.9287 7.77857 39.8998 7.79452 39.842 7.82641L37.9863 8.85C37.7907 8.95791 37.6929 9.01187 37.6206 8.9978C37.5576 8.98557 37.5033 8.94419 37.4728 8.8852C37.4377 8.8174 37.4563 8.70314 37.4937 8.47463L37.848 6.30807C37.859 6.24053 37.8645 6.20676 37.8608 6.17444C37.8575 6.14582 37.8489 6.11815 37.8356 6.09296C37.8205 6.06451 37.7971 6.0406 37.7502 5.99279L36.2488 4.4589C36.0906 4.29723 36.0115 4.21639 36.0018 4.13992C35.9935 4.07339 36.0141 4.00644 36.0582 3.95772C36.1087 3.90172 36.218 3.88497 36.4366 3.85145L38.5123 3.53323C38.5768 3.52333 38.6091 3.51838 38.6372 3.50467C38.6621 3.49253 38.6845 3.47544 38.7032 3.45435C38.7243 3.43053 38.7387 3.39985 38.7676 3.33849L39.6956 1.36663Z"
              stroke="black"
              strokeWidth="0.85"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M51.6956 1.36663C51.7934 1.15879 51.8423 1.05487 51.9087 1.02167C51.9664 0.992778 52.0336 0.992778 52.0913 1.02167C52.1577 1.05487 52.2066 1.15879 52.3044 1.36663L53.2324 3.33849C53.2613 3.39985 53.2757 3.43053 53.2968 3.45435C53.3155 3.47544 53.3379 3.49253 53.3628 3.50467C53.3909 3.51838 53.4232 3.52333 53.4877 3.53323L55.5634 3.85145C55.782 3.88497 55.8913 3.90172 55.9418 3.95772C55.9859 4.00644 56.0065 4.07339 55.9982 4.13992C55.9885 4.21639 55.9094 4.29723 55.7512 4.4589L54.2498 5.99279C54.203 6.0406 54.1795 6.06451 54.1644 6.09296C54.1511 6.11815 54.1425 6.14582 54.1392 6.17444C54.1355 6.20676 54.141 6.24053 54.152 6.30807L54.5063 8.47463C54.5437 8.70314 54.5623 8.8174 54.5272 8.8852C54.4967 8.94419 54.4424 8.98557 54.3794 8.9978C54.3071 9.01187 54.2093 8.95791 54.0137 8.85L52.158 7.82641C52.1002 7.79452 52.0713 7.77857 52.0408 7.77231C52.0139 7.76676 51.9861 7.76676 51.9592 7.77231C51.9287 7.77857 51.8998 7.79452 51.842 7.82641L49.9863 8.85C49.7907 8.95791 49.6929 9.01187 49.6206 8.9978C49.5576 8.98557 49.5033 8.94419 49.4728 8.8852C49.4377 8.8174 49.4563 8.70314 49.4937 8.47463L49.848 6.30807C49.859 6.24053 49.8645 6.20676 49.8608 6.17444C49.8575 6.14582 49.8489 6.11815 49.8356 6.09296C49.8205 6.06451 49.7971 6.0406 49.7502 5.99279L48.2488 4.4589C48.0906 4.29723 48.0115 4.21639 48.0018 4.13992C47.9935 4.07339 48.0141 4.00644 48.0582 3.95772C48.1087 3.90172 48.218 3.88497 48.4366 3.85145L50.5123 3.53323C50.5768 3.52333 50.6091 3.51838 50.6372 3.50467C50.6621 3.49253 50.6845 3.47544 50.7032 3.45435C50.7243 3.43053 50.7387 3.39985 50.7676 3.33849L51.6956 1.36663Z"
              stroke="black"
              strokeWidth="0.85"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>

          <p className="text-sm text-dark">0 review</p>
        </div>

        <div className="mb-8">
          <p className="mb-3 text-sm">Color</p>

          <div className="flex gap-2">
            {colors.map((color, index) => {
              return (
                <div
                  key={index}
                  onClick={() => setActiveColor(index)}
                  className={`w-[18px] h-[18px] border ${
                    activeColor === index ? "border-dark" : "border-transparent"
                  } rounded-full cursor-pointer duration-300`}
                  style={{ backgroundColor: color }}
                ></div>
              );
            })}
          </div>
        </div>

        <div className="mb-8">
          <p className="mb-3 text-sm">Size</p>

          <div className="flex gap-2">
            {sizes.map((size, index) => {
              return (
                <span
                  key={index}
                  onClick={() => setActiveSize(index)}
                  className={`py-1.5 px-2 border ${
                    activeSize === index
                      ? "border-transparent bg-dark"
                      : "border-dark/10 bg-transparent"
                  } text-xs font-medium uppercase ${
                    activeSize === index ? "text-white" : "text-dark"
                  } cursor-pointer duration-300`}
                >
                  {size}
                </span>
              );
            })}
          </div>
        </div>

        <button className="mb-10 w-full h-[50px] border border-transparent hover:border-dark bg-dark text-xs font-bold uppercase tracking-[1.5px] text-white duration-300">
          Add to cart
        </button>

        <FAQPart description={product.description} />
      </div>
    </section>
  );
}
